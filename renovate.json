{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:best-practices",
    ":enableVulnerabilityAlerts",
    ":separateMultipleMajorReleases",
    "customManagers:biomeVersions",
    "schedule:weekly"
  ],
  "labels": ["dependency"],
  "rangeStrategy": "pin",
  "prConcurrentLimit": 3,
  "prHourlyLimit": 2,
  "minimumReleaseAge": "3 days",
  "packageRules": [
    {
      "matchDepTypes": ["engines"],
      "rangeStrategy": "auto"
    },
    {
      "description": "Remove word `dependency` from commit messages and PR titles",
      "matchDatasources": ["npm"],
      "commitMessageTopic": "{{depName}}"
    },
    {
      "description": "Fetch changelog details for twemoji packages",
      "matchPackageNames": ["@discordapp/twemoji"],
      "changelogUrl": "https://github.com/jdjdecked/twemoji"
    },
    {
      "description": "Group all GitHub Actions updates",
      "matchManagers": ["github-actions"],
      "groupName": "github-actions",
      "labels": ["dependency", "github-actions"]
    },
    {
      "description": "Group non-major npm updates",
      "matchDatasources": ["npm"],
      "matchUpdateTypes": ["minor", "patch"],
      "groupName": "npm-non-major"
    },
    {
      "description": "Group Electron ecosystem packages",
      "matchPackageNames": ["electron", "electron-builder", "electron-log", "electron-updater", "@electron/**"],
      "groupName": "electron"
    },
    {
      "description": "Group React ecosystem packages",
      "matchPackageNames": ["react", "react-dom", "react-router-dom", "@types/react", "@types/react-dom", "@types/react-router-dom"],
      "groupName": "react"
    },
    {
      "description": "Group testing packages",
      "matchPackageNames": ["jest", "jest-*", "@types/jest", "ts-jest", "@testing-library/**", "nock", "babel-jest"],
      "groupName": "testing"
    },
    {
      "description": "Group Primer design system packages",
      "matchPackageNames": ["@primer/**"],
      "groupName": "primer"
    },
    {
      "description": "Group webpack and build tools",
      "matchPackageNames": ["webpack", "webpack-*", "ts-loader", "css-loader", "postcss-loader", "html-webpack-plugin", "copy-webpack-plugin", "mini-css-extract-plugin", "css-minimizer-webpack-plugin", "terser-webpack-plugin"],
      "groupName": "webpack"
    },
    {
      "description": "Group Tailwind CSS packages",
      "matchPackageNames": ["tailwindcss", "@tailwindcss/**", "tailwind-merge"],
      "groupName": "tailwind"
    },
    {
      "description": "Group Babel packages",
      "matchPackageNames": ["@babel/**"],
      "groupName": "babel"
    },
    {
      "description": "Group GraphQL packages",
      "matchPackageNames": ["graphql", "@graphql-codegen/**"],
      "groupName": "graphql"
    }
  ],
  "customManagers": [
    {
      "description": "Keep sonar.projectVersion variables in sonar-project.properties in-sync",
      "customType": "regex",
      "datasourceTemplate": "github-tags",
      "depNameTemplate": "gitify-app/gitify",
      "versioningTemplate": "loose",
      "managerFilePatterns": ["/sonar-project.properties/"],
      "matchStrings": ["\\s?sonar.projectVersion=(?<currentValue>.+?)\\s"]
    }
  ]
}
