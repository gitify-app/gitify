query FetchBatch(
  # Arguments that will be per notification item
  $ownerINDEX: String!
  $nameINDEX: String!
  $numberINDEX: Int!
  $isDiscussionNotificationINDEX: Boolean!
  $isIssueNotificationINDEX: Boolean!
  $isPullRequestNotificationINDEX: Boolean!
  # Stable arguments for the merged query as a whole
  $lastComments: Int
  $lastThreadedComments: Int
  $lastReplies: Int
  $lastReviews: Int
  $firstLabels: Int
  $firstClosingIssues: Int
  $includeIsAnswered: Boolean!
) {
  ...BatchMergedDetailsQueryTemplate
}

fragment BatchMergedDetailsQueryTemplate on Query {
  repository(owner: $ownerINDEX, name: $nameINDEX) {
    discussion(number: $numberINDEX)
      @include(if: $isDiscussionNotificationINDEX)
    {
      ...DiscussionDetails
    }

    issue(number: $numberINDEX) @include(if: $isIssueNotificationINDEX) {
      ...IssueDetails
    }

    pullRequest(number: $numberINDEX)
      @include(if: $isPullRequestNotificationINDEX)
    {
      ...PullRequestDetails
    }
  }
}
